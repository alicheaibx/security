package com.example.security;import android.content.Intent;import android.os.Bundle;import android.view.View;import android.widget.Button;import android.widget.EditText;import android.widget.ProgressBar;import android.widget.Toast;import androidx.appcompat.app.AppCompatActivity;import com.android.volley.Request;import com.android.volley.RequestQueue;import com.android.volley.Response;import com.android.volley.VolleyError;import com.android.volley.toolbox.StringRequest;import com.android.volley.toolbox.Volley;import org.json.JSONObject;import java.util.HashMap;import java.util.Map;public class Login extends AppCompatActivity {    static String URL_login = "https://localhost/security_db/login.php";    EditText full_name;    EditText phone;    Button login1;    EditText password;    ProgressBar loading;    Button register;    String pn;    String fn;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_login);        full_name = findViewById(R.id.full_name);        phone = findViewById(R.id.phone);        loading = findViewById(R.id.loading);        password = findViewById(R.id.password);        login1 = findViewById(R.id.login);        login1.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                login();                Intent i = new Intent(Login.this, Emergency.class);                fn = full_name.getText().toString();                pn = phone.getText().toString();                i.putExtra("value", fn);                i.putExtra("value", pn);                startActivity(i);                finish();            }        });    }    private void login() {        loading.setVisibility(View.VISIBLE);        login1.setVisibility(View.GONE);        final String name = this.full_name.getText().toString().trim();        final String phone = this.phone.getText().toString().trim();        final String password = this.password.getText().toString().trim();        StringRequest stringRequest = new StringRequest(Request.Method.POST, URL_login,                new Response.Listener<String>() {                    @Override                    public void onResponse(String response) {                        try {                            JSONObject jsonObject = new JSONObject(response);                            String success = jsonObject.getString("success");                            if (success.equals("1")) {                                Toast.makeText(Login.this, "login success", Toast.LENGTH_SHORT).show();                            }                        } catch (Exception e) {                            e.printStackTrace();                            Toast.makeText(Login.this, "login failed" + e.toString(), Toast.LENGTH_SHORT).show();                            loading.setVisibility(View.GONE);                            login1.setVisibility(View.VISIBLE);                        }                    }                },                new Response.ErrorListener() {                    @Override                    public void onErrorResponse(VolleyError error) {                        Toast.makeText(Login.this, "login failed" + error.toString(), Toast.LENGTH_SHORT).show();                        loading.setVisibility(View.GONE);                        login1.setVisibility(View.VISIBLE);                    }                }) {            @Override            protected Map<String, String> getParams() { //throws AuthFailureError                Map<String, String> params = new HashMap<>();                params.put("username", full_name.getText().toString());                params.put("phone", phone);                params.put("password", password);                return params;            }        };        RequestQueue requestQueue = Volley.newRequestQueue(this);        requestQueue.add(stringRequest);    }}